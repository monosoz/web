<?php

namespace Amsgames\LaravelShopGatewayPaypal;

/**
 * Gateway that adds PayPal payments to Laravel Shop.
 *
 * @author Alejandro Mostajo
 * @copyright Amsgames, LLC
 * @license MIT
 * @package Amsgames\LaravelShop
 */

use Amsgames\LaravelShop\Exceptions\CheckoutException;
use Amsgames\LaravelShop\Exceptions\GatewayException;
use Amsgames\LaravelShop\Exceptions\ShopException;
use Amsgames\LaravelShop\Core\PaymentGateway;
use Illuminate\Support\Facades\Config;

class FakePay extends PaymentGateway
{
    /**
     * Called on cart checkout.
     * THIS METHOD IS OPTIONAL, DONE FOR GATEWAY VALIDATIONS BEFORE PLACING AN ORDER
     *
     * @param Order $order Order.
     */
    public function onCheckout($cart)
    {
        throw new CheckoutException('Checkout failed.');
    }

    /**
     * Called by shop to charge order's amount.
     *
     * @param Order $order Order.
     *
     * @return bool
     */
    public function onCharge($order)
    {
        // The transaction id generated by the provider i.e.
       $this->transactionId = 1;

    // Custom detail of 1024 chars.
       $this->detail = 'Pay: success';

    // Order status after method call.
       $this->statusCode = 'in_process';

       return true;
       //throw new GatewayException('Payment failed.');
       //return false;
    }

}